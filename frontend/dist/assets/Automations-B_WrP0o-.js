import{c as v,j as e,r as n,B as o,T as m,b as a,A,C as b,I,w as S,x as T,y as w,L as D,M as c,F as M}from"./index-CULAPTGC.js";import{D as R}from"./Download-DzWmW1cS.js";import{G as x}from"./Grid-CUnqLD39.js";import{C as F,a as z}from"./CardContent-54JzbSmJ.js";import{C as N}from"./CardHeader-wilxnX2A.js";import{F as W,S as k}from"./Switch-BRh7l_Yc.js";import{T as p}from"./TextField-BUPMHrHm.js";import{F as L,I as B,S as E}from"./Select-DuIBlwhn.js";const G=v(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail"),H=v(e.jsx("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive"),Q=()=>{const[j,d]=n.useState([{id:"r1",name:"Weekly Performance Report",type:"report",schedule:"0 9 * * 1",active:!0},{id:"r2",name:"High Cart Abandonment Alert",type:"alert",active:!0},{id:"r3",name:"Monthly AI Insights Digest",type:"insight",schedule:"0 10 1 * *",active:!1}]),[g,i]=n.useState(!1),[s,l]=n.useState({type:"report",active:!0}),[h,u]=n.useState(!1),f=()=>{u(!0),setTimeout(()=>{d(t=>[{id:`r${Date.now()}`,name:s.name||"New Rule",type:s.type||"report",schedule:s.schedule,active:!!s.active},...t]),i(!1),u(!1),l({type:"report",active:!0})},800)},y=t=>{d(C=>C.map(r=>r.id===t?{...r,active:!r.active}:r))};return e.jsxs(o,{sx:{p:3},children:[e.jsx(m,{variant:"h4",gutterBottom:!0,children:"Automations"}),e.jsx(m,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Automate reports, alerts, and AI insights to boost productivity."}),e.jsxs(o,{sx:{display:"flex",gap:1,mb:2},children:[e.jsx(a,{variant:"contained",startIcon:e.jsx(A,{}),onClick:()=>i(!0),children:"New Automation"}),e.jsx(a,{variant:"outlined",startIcon:e.jsx(R,{}),children:"Export Rules"})]}),e.jsx(x,{container:!0,spacing:3,children:j.map(t=>e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(F,{children:[e.jsx(N,{title:t.name,subheader:t.type==="report"?"Scheduled report":t.type==="alert"?"Real-time alert":"AI insights summary"}),e.jsxs(z,{children:[t.schedule&&e.jsx(b,{label:`Schedule: ${t.schedule}`,size:"small",sx:{mr:1,mb:1}}),e.jsx(W,{control:e.jsx(k,{checked:t.active,onChange:()=>y(t.id)}),label:t.active?"Active":"Inactive"}),e.jsxs(o,{sx:{mt:2,display:"flex",gap:1},children:[t.type==="report"&&e.jsx(a,{size:"small",variant:"outlined",startIcon:e.jsx(G,{}),children:"Send Now"}),t.type==="alert"&&e.jsx(a,{size:"small",variant:"outlined",startIcon:e.jsx(H,{}),children:"Test Alert"}),t.type==="insight"&&e.jsx(a,{size:"small",variant:"outlined",startIcon:e.jsx(I,{}),children:"Generate"})]})]})]})},t.id))}),e.jsxs(S,{open:g,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(T,{children:"Create Automation"}),e.jsxs(w,{children:[h&&e.jsx(D,{sx:{mb:2}}),e.jsx(p,{fullWidth:!0,label:"Name",value:s.name||"",onChange:t=>l({...s,name:t.target.value}),sx:{mb:2}}),e.jsxs(L,{fullWidth:!0,sx:{mb:2},children:[e.jsx(B,{children:"Type"}),e.jsxs(E,{value:s.type,label:"Type",onChange:t=>l({...s,type:t.target.value}),children:[e.jsx(c,{value:"report",children:"Report"}),e.jsx(c,{value:"alert",children:"Alert"}),e.jsx(c,{value:"insight",children:"AI Insight"})]})]}),e.jsx(p,{fullWidth:!0,label:"Schedule (cron)",placeholder:"0 9 * * 1",value:s.schedule||"",onChange:t=>l({...s,schedule:t.target.value}),helperText:"Use cron format for scheduling (optional)"})]}),e.jsxs(M,{children:[e.jsx(a,{onClick:()=>i(!1),children:"Cancel"}),e.jsx(a,{variant:"contained",onClick:f,disabled:h,children:"Save"})]})]})]})};export{Q as default};
